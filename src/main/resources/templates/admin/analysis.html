<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis - FinanceAll</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
    <div th:replace="~{fragments/header :: header}"></div>

    <main class="container" style="margin-top: 2rem;">
        <h2 style="margin-bottom: 1.5rem;">System-Wide Analysis</h2>
        
        <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
            <div class="card" style="padding: 20px; background: var(--card-bg); border-radius: 12px;">
                <p style="color: #64748b; font-size: 0.9rem;">Total Registered Users</p>
                <h3 style="font-size: 1.8rem; margin: 10px 0;" th:text="${totalUsers}">0</h3>
            </div>
            <div class="card" style="padding: 20px; background: var(--card-bg); border-radius: 12px;">
                <p style="color: #64748b; font-size: 0.9rem;">Global System Balance</p>
                <h3 style="font-size: 1.8rem; margin: 10px 0; color: #10b981;" 
                    th:text="'Rp ' + ${#numbers.formatDecimal(globalBalance ?: 0, 0, 'POINT', 0, 'COMMA')}">Rp 0</h3>
            </div>
        </div>

        <div class="card" style="margin-top: 2rem; padding: 25px;">
            <h3>Transaction Comparison</h3>
            <div style="display: flex; gap: 20px; margin-top: 15px;">
                <div style="flex: 1; padding: 15px; background: rgba(16, 185, 129, 0.1); border-radius: 8px; border-left: 4px solid #10b981;">
                    <p style="margin: 0; font-size: 0.8rem; color: #10b981;">Total All-Time Income</p>
                    <p style="margin: 5px 0 0 0; font-weight: bold;" 
                       th:text="'Rp ' + ${#numbers.formatDecimal(totalIncome ?: 0, 0, 'POINT', 0, 'COMMA')}">Rp 0</p>
                </div>
                <div style="flex: 1; padding: 15px; background: rgba(239, 68, 68, 0.1); border-radius: 8px; border-left: 4px solid #ef4444;">
                    <p style="margin: 0; font-size: 0.8rem; color: #ef4444;">Total All-Time Expense</p>
                    <p style="margin: 5px 0 0 0; font-weight: bold;" 
                       th:text="'Rp ' + ${#numbers.formatDecimal(totalExpense ?: 0, 0, 'POINT', 0, 'COMMA')}">Rp 0</p>
                </div>
            </div>
        </div>
    </main>
    <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>